SET SQLPROMPT "";
SET SQLNUMBER OFF;


CONNECT SYSTEM/SYSTEM;

DROP USER E04 CASCADE;
CREATE USER E04 IDENTIFIED BY "E04";
GRANT CONNECT,RESOURCE TO E04;


CONNECT E04/E04;

CREATE TABLE CLIENTE
(
  NIF          CHAR(9)   PRIMARY KEY,
  NOMBRE       VARCHAR2(50),
  DIRECCION    VARCHAR2(50),
  TELEFONO     CHAR(9)
);


CREATE TABLE MONTADOR
(
  NIF          CHAR(9)   PRIMARY KEY,
  NOMBRE       VARCHAR2(50),
  DIRECCION    VARCHAR2(50),
  TELEFONO     CHAR(9)
);


CREATE TABLE MODELODORMITORIO
(
  COD          CHAR(3)   PRIMARY KEY
);


CREATE TABLE COMPRA
(
  NIF_C        CHAR(9)   REFERENCES CLIENTE(NIF),
  MODELO       CHAR(3)   REFERENCES MODELODORMITORIO(COD),
  FECHACOMPRA  DATE,
  PRIMARY KEY (NIF_C, MODELO, FECHACOMPRA)
);


CREATE TABLE MONTA
(
  NIF_M        CHAR(9)   REFERENCES MONTADOR(NIF),
  MODELO       CHAR(3)   REFERENCES MODELODORMITORIO(COD),
  FECHAMONTAJE DATE,
  PRIMARY KEY (NIF_M, MODELO, FECHAMONTAJE)
);
